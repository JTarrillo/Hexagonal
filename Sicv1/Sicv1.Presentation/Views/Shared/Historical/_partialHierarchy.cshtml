<script src="~/Content/sicv1/js/Chart.min.js"></script>
<script src="~/Content/sicv1/js/CategoryCodeQr/chart.js"></script>

<div class="modal fade bd-example-modal-lg" data-target=".bd-example-modal-lg" id="hierarchyModal"
     tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">

            <div class="modal-header">
                <span id="">Jerarquía de cupones</span>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <div class="space-between wrap">
                    <input type="button" id="btn-displayChart" value="Ver gráfico" class="btn btn-pink" />
                    <div class="wrap">

                        <span class="fa fa-calendar">
                            &nbsp;
                            <input class="input" autocomplete="off" style="width: 140px; margin: 0 1rem 0 0" id="min_date_partial" type="text" placeholder="Fecha inicial">
                        </span>


                        <span class="fa fa-calendar">
                            &nbsp;
                            <input class="input" autocomplete="off" style="width: 140px; margin: 0 1rem 0 0" id="max_date_partial" type="text" placeholder="Fecha final">
                        </span>

                        <button id="btn_searchByDateRange_partial" title="Buscar por rango de fechas" class="btn-sm btn-info active"><span class="fa fa-search"></span> </button>
                        <button id="btn-cancelar-partial" style="display:none!important; visibility:hidden"><span class="fa fa-ban"></span></button>

                    </div>
                </div>

                <section class="table-scroll">
                    <table class="table table-striped table-bordered table-hover display compact" id="tbl_hierarchy">
                        <thead>
                            <tr>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th>Id de cupón</th>
                                <th>Título</th>
                                <th>Alianza</th>
                                <th>Número de redenciones</th>
                                <th></th>
                                <th>Fecha de redención</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </section>

            </div>
        </div>
    </div>
</div>

@* CHART *@
<div class="modal fade" data-target=".bd-example-modal-lg" id="chartModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">

            <div class="modal-header">
                <span id=""> </span>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <canvas id="mycanvas" width="800" height="450"></canvas>
            </div>
        </div>
    </div>
</div>

<script>
    $("#btn-displayChart").on("click", function () {
        var fini = $("#min_date_partial").val();
        var ffin = $("#max_date_partial").val();

        fnloadChart(fini, ffin);

        $("#chartModal").css("z-index", "1070");
        $("#chartModal").modal();
        document.getElementsByClassName("modal-backdrop")[1].style = "z-index:1060";

    });
</script>